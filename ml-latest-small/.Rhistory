summary(modelSSR)
modelCSR <- glm(CSRD ~ Gender+Marital.Status+ Education + Job.experience..years.+
Age + Age.Factor + D.S.Habit + RofW.NofF + Domicile + Employment.Mode
, data = relevantData, family = binomial)
summary(modelCSR)
# Building a logistic model for WSR
modelWSR <- glm(WSRD ~ Gender+Marital.Status+ Education + Job.experience..years.+
Age + Age.Factor + D.S.Habit + RofW.NofF + Domicile + Employment.Mode
, data = relevantData, family = binomial)
summary(modelWSR)
dt$Gender <- as.numeric(dt$Gender)
dt$Marital.Status <- as.numeric(dt$Marital.Status)
dt$Education <- as.numeric(dt$Education)
dt$Age.Factor<- as.numeric(dt$Age.Factor)
dt$D.S.Habit <- as.numeric(dt$D.S.Habit)
dt$RofW.NofF <- as.numeric(dt$RofW.NofF)
dt$Domicile <- as.numeric(dt$Domicile)
dt$Employment.Mode <- as.numeric(dt$Employment.Mode)
str(relevantData)
relevantData <- subset(dt, select = -c(1,2,13,14,15,16,17))
names(relevantData)
str(relevantData)
dt <- read.csv("C:\\Users\\Manas Ranjan Goth\\BDVA Program\\Project Idea\\LaborMtech\\Data Sheet_OriginalCSV_Sagar.csv")
dt$Gender= factor(dt$Gender,
levels = c('Male','Female'),
labels = c(1,0))
dt$Marital.Status = factor(dt$Marital.Status,
levels = c('Married', 'Unmarried'),
labels = c(1,0))
#dt$Education = factor(dt$Education,
#                      levels = c('12th pass','10th pass','Less than 10'),
#                      labels = c(1,2,3))
dt$Age.Factor = factor(dt$Age.Factor,
levels = c('21 - 40','20 or below','41 and above'),
labels = c(1,2,3))
dt$D.S.Habit = factor(dt$D.S.Habit,
levels = c('No','Not at Work','Even at Work'),
labels = c(1,2,3))
dt$RofW.NofF = factor(dt$RofW.NofF,
levels = c('1 to 3','4 to 6','6 and above'),
labels = c(1,2,3))
dt$Domicile = factor(dt$Domicile,
levels = c('native in Mumbai','Outside Mumbai/Maharashtra','Living in Mumbai > 15 years'),
labels = c(1,2,3))
dt$Employment.Mode = factor(dt$Employment.Mode,
levels = c('from Sub-contractor','Self(as per the need of the labours on site)','Directly from Organisation'),
labels = c(1,2,3))
#
dt$Gender <- as.numeric(dt$Gender)
dt$Marital.Status <- as.numeric(dt$Marital.Status)
#dt$Education <- as.numeric(dt$Education)
dt$Age.Factor<- as.numeric(dt$Age.Factor)
dt$D.S.Habit <- as.numeric(dt$D.S.Habit)
dt$RofW.NofF <- as.numeric(dt$RofW.NofF)
dt$Domicile <- as.numeric(dt$Domicile)
dt$Employment.Mode <- as.numeric(dt$Employment.Mode)
relevantData <- subset(dt, select = -c(1,2,13,14,15,16,17))
names(relevantData)
#Checking the data type of the features
str(relevantData)
str(dt)
names(dt)
cor(Features, method = "spearman")
Features <- subset(dt, select = -c(1,2,13,14,15,16,17,18,19,20,21))
names(Features)
cor(Features, method = "spearman")
str(dt)
dt <- read.csv("C:\\Users\\Manas Ranjan Goth\\BDVA Program\\Project Idea\\LaborMtech\\Data Sheet_OriginalCSV_Sagar.csv")
dt$RofW.NofF = factor(dt$RofW.NofF,
levels = c('1 to 3','4 to 6','6 and above'),
labels = c(1,2,3))
dt <- read.csv("C:\\Users\\Manas Ranjan Goth\\BDVA Program\\Project Idea\\LaborMtech\\Data Sheet_OriginalCSV_Sagar.csv")
dt$RofW.NofF = factor(dt$RofW.NofF,
levels = c('1 to 3','4 to 6',' 6 and above'),
labels = c(1,2,3))
dt <- read.csv("C:\\Users\\Manas Ranjan Goth\\BDVA Program\\Project Idea\\LaborMtech\\Data Sheet_OriginalCSV_Sagar.csv")
dt$RofW.NofF = factor(dt$RofW.NofF,
levels = c('1 to 3','4 to 6','6 and above'),
labels = c(1,2,3))
dt <- read.csv("C:\\Users\\Manas Ranjan Goth\\BDVA Program\\Project Idea\\LaborMtech\\Data Sheet_OriginalCSV_Sagar.csv")
dt$Gender= factor(dt$Gender,
levels = c('Male','Female'),
labels = c(1,0))
dt$Marital.Status = factor(dt$Marital.Status,
levels = c('Married', 'Unmarried'),
labels = c(1,0))
#dt$Education = factor(dt$Education,
#                      levels = c('12th pass','10th pass','Less than 10'),
#                      labels = c(1,2,3))
dt$Age.Factor = factor(dt$Age.Factor,
levels = c('21 - 40','20 or below','41 and above'),
labels = c(1,2,3))
dt$D.S.Habit = factor(dt$D.S.Habit,
levels = c('No','Not at Work','Even at Work'),
labels = c(1,2,3))
dt$RofW.NofF = factor(dt$RofW.NofF,
levels = c('1 to 3','4 to 6','6 and above'),
labels = c(1,2,3))
dt$Domicile = factor(dt$Domicile,
levels = c('native in Mumbai','Outside Mumbai/Maharashtra','Living in Mumbai > 15 years'),
labels = c(1,2,3))
dt$Employment.Mode = factor(dt$Employment.Mode,
levels = c('from Sub-contractor','Self(as per the need of the labours on site)','Directly from Organisation'),
labels = c(1,2,3))
relevantData <- subset(dt, select = -c(1,2,13,14,15,16,17))
# Building a logistic model for OSR
modelOSR <-  glm(OSRD ~ Gender+Marital.Status+ Education + Job.experience..years.+
Age + Age.Factor + D.S.Habit + RofW.NofF + Domicile + Employment.Mode,
data = relevantData, family = binomial)
summary(modelOSR)
# Building a logistic model for SSR
modelSSR <- glm(SSRD ~ Gender+Marital.Status+ Education + Job.experience..years.+
Age + Age.Factor + D.S.Habit + RofW.NofF + Domicile + Employment.Mode
, data = relevantData, family = binomial)
summary(modelSSR)
# Building a logistic model for CSR
modelCSR <- glm(CSRD ~ Gender+Marital.Status+ Education + Job.experience..years.+
Age + Age.Factor + D.S.Habit + RofW.NofF + Domicile + Employment.Mode
, data = relevantData, family = binomial)
summary(modelCSR)
# Building a logistic model for WSR
modelWSR <- glm(WSRD ~ Gender+Marital.Status+ Education + Job.experience..years.+
Age + Age.Factor + D.S.Habit + RofW.NofF + Domicile + Employment.Mode
, data = relevantData, family = binomial)
summary(modelWSR)
dt$Gender <- as.numeric(dt$Gender)
dt$Marital.Status <- as.numeric(dt$Marital.Status)
#dt$Education <- as.numeric(dt$Education)
dt$Age.Factor<- as.numeric(dt$Age.Factor)
dt$D.S.Habit <- as.numeric(dt$D.S.Habit)
dt$RofW.NofF <- as.numeric(dt$RofW.NofF)
dt$Domicile <- as.numeric(dt$Domicile)
dt$Employment.Mode <- as.numeric(dt$Employment.Mode)
Features <- subset(dt, select = -c(1,2,13,14,15,16,17,18,19,20,21))
cor(Features, method = "spearman")
corrplot.mixed(CorMatrix)
CorMatrix <- cor(Features, method = "spearman")
corrplot.mixed(CorMatrix)
library(car)
vif(modelWSR)
modelOSR <-  glm(OSRD ~ Gender+Marital.Status+ Education + Job.experience..years.+
Age + Age.Factor + D.S.Habit + RofW.NofF + Domicile + Employment.Mode,
data = dt, family = binomial)
summary(modelOSR)
modelSSR <- glm(SSRD ~ Gender+Marital.Status+ Education + Job.experience..years.+
Age + Age.Factor + D.S.Habit + RofW.NofF + Domicile + Employment.Mode
, data = dt, family = binomial)
summary(modelSSR)
modelCSR <- glm(CSRD ~ Gender+Marital.Status+ Education + Job.experience..years.+
Age + Age.Factor + D.S.Habit + RofW.NofF + Domicile + Employment.Mode
, data = dt, family = binomial)
summary(modelCSR)
modelWSR <- glm(WSRD ~ Gender+Marital.Status+ Education + Job.experience..years.+
Age + Age.Factor + D.S.Habit + RofW.NofF + Domicile + Employment.Mode
, data = dt, family = binomial)
summary(modelWSR)
vif(lm(OSRD ~ Gender+Marital.Status+ Education + Job.experience..years.+
Age + Age.Factor + D.S.Habit + RofW.NofF + Domicile + Employment.Mode,
data = dt))
vif(lm(OSRD ~ Gender+Marital.Status+ Education + Job.experience..years.
+ Age.Factor + D.S.Habit + RofW.NofF + Domicile + Employment.Mode,
data = dt))
modelOSR <-  glm(OSRD ~ Gender+Marital.Status+ Education + Job.experience..years.
+ Age.Factor + D.S.Habit + RofW.NofF + Domicile + Employment.Mode,
data = dt, family = binomial)
summary(modelOSR)
modelSSR <- glm(SSRD ~ Gender+Marital.Status+ Education + Job.experience..years.+
Age + Age.Factor + D.S.Habit + RofW.NofF + Domicile + Employment.Mode
, data = dt, family = binomial)
summary(modelSSR)
modelSSR <- glm(SSRD ~ Gender+Marital.Status+ Education + Job.experience..years.+
Age.Factor + D.S.Habit + RofW.NofF + Domicile + Employment.Mode
, data = dt, family = binomial)
summary(modelSSR)
modelCSR <- glm(CSRD ~ Gender+Marital.Status+ Education + Job.experience..years.
+ Age.Factor + D.S.Habit + RofW.NofF + Domicile + Employment.Mode
, data = dt, family = binomial)
summary(modelCSR)
head(dt)
names(dt)
dt <- read.csv("C:\\Users\\Manas Ranjan Goth\\BDVA Program\\Project Idea\\LaborMtech\\Data Sheet_OriginalCSV_Sagar.csv")
head(dt)
View(dt)
dt$Gender= factor(dt$Gender,
levels = c('Male','Female'),
labels = c(1,0))
dt$Marital.Status = factor(dt$Marital.Status,
levels = c('Married', 'Unmarried'),
labels = c(1,0))
dt$Age.Factor = factor(dt$Age.Factor,
levels = c('21 - 40','20 or below','41 and above'),
labels = c(1,2,3))
dt$Age.Factor = factor(dt$Age.Factor,
levels = c('21 - 40','20 or below','41 and above'),
labels = c(1,2,3))
dt$D.S.Habit = factor(dt$D.S.Habit,
levels = c('No','Not at Work','Even at Work'),
labels = c(1,2,3))
dt$RofW.NofF = factor(dt$RofW.NofF,
levels = c('1 to 3','4 to 6','6 and above'),
labels = c(1,2,3))
dt$Domicile = factor(dt$Domicile,
levels = c('native in Mumbai','Outside Mumbai/Maharashtra','Living in Mumbai > 15 years'),
labels = c(1,2,3))
dt$Employment.Mode = factor(dt$Employment.Mode,
levels = c('from Sub-contractor','Self(as per the need of the labours on site)','Directly from Organisation'),
labels = c(1,2,3))
dt <- read.csv("C:\\Users\\Manas Ranjan Goth\\BDVA Program\\Project Idea\\LaborMtech\\Data Sheet_OriginalCSV_Sagar.csv")
dt$Gender= factor(dt$Gender,
levels = c('Male','Female'),
labels = c(1,0))
dt$Marital.Status = factor(dt$Marital.Status,
levels = c('Married', 'Unmarried'),
labels = c(1,0))
#dt$Education = factor(dt$Education,
#                      levels = c('12th pass','10th pass','Less than 10'),
#                      labels = c(1,2,3))
dt$Age.Factor = factor(dt$Age.Factor,
levels = c('21 - 40','20 or below','41 and above'),
labels = c(1,2,3))
dt$D.S.Habit = factor(dt$D.S.Habit,
levels = c('No','Not at Work','Even at Work'),
labels = c(1,2,3))
dt$RofW.NofF = factor(dt$RofW.NofF,
levels = c('1 to 3','4 to 6','6 and above'),
labels = c(1,2,3))
dt$Domicile = factor(dt$Domicile,
levels = c('native in Mumbai','Outside Mumbai/Maharashtra','Living in Mumbai > 15 years'),
labels = c(1,2,3))
dt$Employment.Mode = factor(dt$Employment.Mode,
levels = c('from Sub-contractor','Self(as per the need of the labours on site)','Directly from Organisation'),
labels = c(1,2,3))
str(dt)
relevantData <- subset(dt, select = -c(1,2,13,14,15,16,17))
dt$Gender <- as.numeric(dt$Gender)
dt$Marital.Status <- as.numeric(dt$Marital.Status)
#dt$Education <- as.numeric(dt$Education)
dt$Age.Factor<- as.numeric(dt$Age.Factor)
dt$D.S.Habit <- as.numeric(dt$D.S.Habit)
dt$RofW.NofF <- as.numeric(dt$RofW.NofF)
dt$Domicile <- as.numeric(dt$Domicile)
dt$Employment.Mode <- as.numeric(dt$Employment.Mode)
str(dt)
names(dt)
Features <- subset(dt, select = -c(1,2,13,14,15,16,17,18,19,20,21))
names(Features)
CorMatrix <- cor(Features, method = "spearman")
CorMatrix
CorMatrix
corrplot.mixed(CorMatrix)
library(car)
vif(lm(OSRD ~ Gender+Marital.Status+ Education + Job.experience..years.+
Age + Age.Factor + D.S.Habit + RofW.NofF + Domicile + Employment.Mode,
data = dt))
vif(lm(OSRD ~ Gender+Marital.Status+ Education + Job.experience..years.
+ Age.Factor + D.S.Habit + RofW.NofF + Domicile + Employment.Mode,
data = dt))
names(relevantData)
modelOSR <-  glm(OSRD ~ Gender+Marital.Status+ Education + Job.experience..years.
+ Age.Factor + D.S.Habit + RofW.NofF + Domicile + Employment.Mode,
data = relevantData, family = binomial)
summary(modelOSR)
modelSSR <- glm(SSRD ~ Gender+Marital.Status+ Education + Job.experience..years.
+ Age.Factor + D.S.Habit + RofW.NofF + Domicile + Employment.Mode
, data = relevantData, family = binomial)
summary(modelSSR)
modelCSR <- glm(CSRD ~ Gender+Marital.Status+ Education + Job.experience..years.+
Age.Factor + D.S.Habit + RofW.NofF + Domicile + Employment.Mode
, data = relevantData, family = binomial)
summary(modelCSR)
modelWSR <- glm(WSRD ~ Gender+Marital.Status+ Education + Job.experience..years.+
Age + Age.Factor + D.S.Habit + RofW.NofF + Domicile + Employment.Mode
, data = relevantData, family = binomial)
summary(modelWSR)
modelOSR <-  glm(OSRD ~ Gender+Marital.Status+ Education + Job.experience..years.
+ Age.Factor + D.S.Habit + RofW.NofF + Domicile + Employment.Mode,
data = dt, family = binomial)
summary(modelOSR)
dt <- read.csv("C:\\Users\\Manas Ranjan Goth\\BDVA Program\\Project Idea\\LaborMtech\\Debug\\Data Sheet_OriginalCSV_Sagar.csv")
head(dt)
dt <- read.csv("C:\\Users\\Manas Ranjan Goth\\BDVA Program\\Project Idea\\LaborMtech\\Debug\\Data Sheet_OriginalCSV_Sagar.csv")
head(dt)
names(dt)
dt$Gender= factor(dt$Gender,
levels = c('Male','Female'),
labels = c(1,0))
dt$M.S = factor(dt$M.S,
levels = c('Married', 'Unmarried'),
labels = c(1,0))
View(dt)
dt <- read.csv("C:\\Users\\Manas Ranjan Goth\\BDVA Program\\Project Idea\\LaborMtech\\Debug\\Data Sheet_OriginalCSV_Sagar.csv")
dt$Gender= factor(dt$Gender,
levels = c('Male','Female'),
labels = c(1,0))
dt$M.S = factor(dt$M.S,
levels = c('Married', 'Unmarried'),
labels = c(1,0))
dt$Age.Factor = factor(dt$Age.Factor,
levels = c('21 - 40','20 or below','41 and above'),
labels = c(1,2,3))
dt$D.S.Habit = factor(dt$D.S.Habit,
levels = c('No','Not at Work','Even at Work'),
labels = c(1,2,3))
dt$RofW.NofF = factor(dt$RofW.NofF,
levels = c('1 to 3','4 to 6','6 and above'),
labels = c(1,2,3))
dt$Domicile = factor(dt$Domicile,
levels = c('native in Mumbai','Outside Mumbai/Maharashtra','Living in Mumbai > 15 years'),
labels = c(1,2,3))
dt$Employment.Mode = factor(dt$Employment.Mode,
levels = c('from Sub-contractor','Self(as per the need of the labours on site)','Directly from Organisation'),
labels = c(1,2,3))
dt$M.S = factor(dt$M.S,
levels = c('Married', 'Unmarried'),
labels = c(1,0))
dt <- read.csv("C:\\Users\\Manas Ranjan Goth\\BDVA Program\\Project Idea\\LaborMtech\\Debug\\Data Sheet_OriginalCSV_Sagar.csv")
names(dt)
dt$M.S = factor(dt$M.S,
levels = c('Married', 'Unmarried'),
labels = c(1,0))
dt <- read.csv("C:\\Users\\Manas Ranjan Goth\\BDVA Program\\Project Idea\\LaborMtech\\Debug\\Data Sheet_OriginalCSV_Sagar.csv")
dt <- read.csv("C:\\Users\\Manas Ranjan Goth\\BDVA Program\\Project Idea\\LaborMtech\\Debug\\Data Sheet_OriginalCSV_Sagar.csv")
dt$Gender= factor(dt$Gender,
levels = c('Male','Female'),
labels = c(1,0))
dt$M.S = factor(dt$M.S,
levels = c('Married', 'Unmarried'),
labels = c(1,0))
dt$Age.Factor = factor(dt$Age.Factor,
levels = c('21 - 40','20 or below','41 and above'),
labels = c(1,2,3))
dt$D.S.Habit = factor(dt$D.S.Habit,
levels = c('No','Not at Work','Even at Work'),
labels = c(1,2,3))
dt$RofW.NofF = factor(dt$RofW.NofF,
levels = c('1 to 3','4 to 6','6 and above'),
labels = c(1,2,3))
dt$Domicile = factor(dt$Domicile,
levels = c('native in Mumbai','Outside Mumbai/Maharashtra','Living in Mumbai > 15 years'),
labels = c(1,2,3))
dt$Employment.Mode = factor(dt$Employment.Mode,
levels = c('from Sub-contractor','Self(as per the need of the labours on site)','Directly from Organisation'),
labels = c(1,2,3))
relevantData <- subset(dt, select = -c(1,2,13,14,15,16,17))
names(relevantData)
dt$Gender <- as.numeric(dt$Gender)
dt$M.S <- as.numeric(dt$M.S)
dt$Age.Factor<- as.numeric(dt$Age.Factor)
dt$D.S.Habit <- as.numeric(dt$D.S.Habit)
dt$RofW.NofF <- as.numeric(dt$RofW.NofF)
dt$Domicile <- as.numeric(dt$Domicile)
dt$Employment.Mode <- as.numeric(dt$Employment.Mode)
str(dt)
names(dt)
library(corrplot)
Features <- subset(dt, select = -c(1,2,13,14,15,16,17,18,19,20,21))
names(Features)
CorMatrix <- cor(Features, method = "spearman")
CorMatrix
corrplot.mixed(CorMatrix)
library(car)
vif(lm(OSRD ~ Gender+M.S+ Education + Job.Exp+
Age + Age.Factor + D.S.Habit + RofW.NofF + Domicile + Employment.Mode,
data = dt))
vif(lm(OSRD ~ Gender+M.S+ Education + Job.Exp
+ Age.Factor + D.S.Habit + RofW.NofF + Domicile + Employment.Mode,
data = dt))
modelOSR <-  glm(OSRD ~ Gender+M.S+ Education + Job.Exp
+ Age.Factor + D.S.Habit + RofW.NofF + Domicile + Employment.Mode,
data = relevantData, family = binomial)
summary(modelOSR)
modelSSR <- glm(SSRD ~ Gender+M.S+ Education + Job.Exp
+ Age.Factor + D.S.Habit + RofW.NofF + Domicile + Employment.Mode
, data = relevantData, family = binomial)
summary(modelSSR)
modelCSR <- glm(CSRD ~ Gender+M.S+ Education + Job.Exp+
Age.Factor + D.S.Habit + RofW.NofF + Domicile + Employment.Mode
, data = relevantData, family = binomial)
summary(modelCSR)
modelWSR <- glm(WSRD ~ Gender+M.S+ Education + Job.Exp+
Age + Age.Factor + D.S.Habit + RofW.NofF + Domicile + Employment.Mode
, data = relevantData, family = binomial)
summary(modelWSR)
setwd("C:/Users/Manas Ranjan Goth/BDVA Program/RecommenderSystems/Project")
library(recommenderlab)
library(reshape2)
library(ggplot2)
setwd("C:/Users/Manas Ranjan Goth/BDVA Program/RecommenderSystems/Project/ml-latest-small")
setwd("C:/Users/Manas Ranjan Goth/BDVA Program/RecommenderSystems/Project/ml-latest-small")
tr<-read.csv("ratings.csv",header=TRUE)
head(tr)
tr<-tr[,-c(1)]
head(tr)
tr<-read.csv("ratings.csv",header=TRUE)
setwd("C:/Users/Manas Ranjan Goth/BDVA Program/RecommenderSystems/Project/ml-latest-small")
tr<-read.csv("ratings.csv",header=TRUE)
head(tr)
tr<-tr[,-c(4)]
head(tr)
tr[tr$user==1,]
colnames(tr) <- c("user","movie","rating")
head(tr)
g<-acast(tr, user ~ movie)
class(g)
R<-as.matrix(g)
r <- as(R, "realRatingMatrix")
as(r, "list")	  # A list
as(r, "matrix")   # A sparse matrix
head(as(r, "data.frame"))
r_m <- normalize(r)
r_m <- normalize(r)
r_m
as(r_m, "list")
tr <-db[d,]
d <- sample(x=nrow(tr),size=nrow(tr)*0.80,)
tr <-tr[d,]
nrow(tr)
test <-tr[-d,]
nrow(test)
g<-acast(tr, user ~ movie)
class(g)
R<-as.matrix(g)
r <- as(R, "realRatingMatrix")
head(as(r, "data.frame"))
r_m <- normalize(r)
r_b <- binarize(r, minRating=1)
as(r_b, "matrix")
rec=Recommender(r[1:nrow(r)],method="UBCF", param=list(normalize = "Z-score",method="Cosine",nn=5, minRating=1))
print(rec)
nrow(tr)
nrow(tr)
test <-tr[-d,]
colnames(tr) <- c("user","movie","rating")
g<-acast(tr, user ~ movie)
# Check the class of g
class(g)
R<-as.matrix(g)
r <- as(R, "realRatingMatrix")
as(r, "list")	  # A list
as(r, "matrix")   # A sparse matrix
r_m <- normalize(r)
r_b <- binarize(r, minRating=1)
as(r_b, "matrix")
rec=Recommender(r[1:nrow(r)],method="UBCF", param=list(normalize = "Z-score",method="Cosine",nn=5, minRating=1))
print(rec)
names(getModel(rec))
getModel(rec)$nn
getModel(rec)$verbose
getModel(rec)$description
recom <- predict(rec, test[1:nrow(test)], type="ratings")
colnames(test) <- c("user","movie","rating")
h <- acast(test, user ~ movie)
Rtest <- as.matrix(h)
rtest <- as(Rtest,"realRatingMatrix")
recom <- predict(rec, rtest[1:nrow(rtest)], type="ratings")
recom <- predict(rec, r[1:nrow(r)], type="ratings")
head(as(rtest, "data.frame"))
head(as(r, "data.frame"))
nrow(rtest)
ncol(rtest)
ncol(r)
recom <- predict(rec, rtest[1:nrow(rtest)], type="rating")
recom <- predict(rec, rtest[1:nrow(rtest)], type="ratings")
recom <- predict(rec, rtest[1:100], type="ratings")
recom <- predict(rec, r[1:100], type="ratings")
tr<-read.csv("ratings.csv",header=TRUE)
head(tr)
tr<-tr[,-c(4)]
nrow(tr)
tr <- tr[1:80000]
tr <- tr[1:80000,]
test <- tr[80001:100004,]
colnames(tr) <- c("user","movie","rating")
colnames(test) <- c("user","movie","rating")
g<-acast(tr, user ~ movie)
h <- acast(test, user ~ movie)
R<-as.matrix(g)
Rtest <- as.matrix(h)
r <- as(R, "realRatingMatrix")
rtest <- as(Rtest,"realRatingMatrix")
rec=Recommender(r[1:nrow(r)],method="UBCF", param=list(normalize = "Z-score",method="Cosine",nn=5, minRating=1))
recom <- predict(rec, rtest[1:nrow(rtest)], type="ratings")
recom <- predict(rec, rtest[1:5], type="ratings")
recom <- predict(rec, rtest[1:1], type="ratings")
recom <- predict(rec, r[1:nrow(r)], type="ratings")
nrow(rtest)
ncol(r)
ncol(rtest)
tr <- tr[1:80000,]
test <- tr[80001:100004,]
#renaming the column names
colnames(tr) <- c("user","movie","rating")
colnames(test) <- c("user","movie","rating")
# Using acast to convert above data as follows:
#       m1  m2   m3   m4
# u1    3   4    2    5
# u2    1   6    5
# u3    4   4    2    5
g<-acast(tr, user ~ movie)
h <- acast(test, user ~ movie)
# Check the class of g
class(g)
class(h)
R<-as.matrix(g)
Rtest <- as.matrix(h)
r <- as(R, "realRatingMatrix")
rtest <- as(Rtest,"realRatingMatrix")
recom <- predict(rec, r[1:nrow(r)], type="ratings")
as(recom, "list")
p <- as(recom, "list")
head(p)
p[1:1]
